<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Emacs</title>
<meta name="author" content="Bibek Panthi" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="../css/stylesheet.css" />
<link rel="stylesheet" type="text/css" href="../css/braindump.css" />
<script src="../js/counters.js" type="text/javascript"></script>
<script src="../js/URI.js" type="text/javascript"></script>
<script src="../js/pages.js" type="text/javascript"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="./index.html"> UP </a>
 |
 <a accesskey="H" href="../index.html"> HOME </a>
</div><div id="preamble" class="status">
<p class="date">Date: <span class="timestamp-wrapper"><span class="timestamp">[2020-05-24 Sun]</span></span></p>
</div>
<div id="content" class="content">
<h1 class="title">Emacs</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#How%20to%20learn">1. How to learn</a></li>
<li><a href="#Notes">2. Notes</a></li>
<li><a href="#Tips">3. Tips</a>
<ul>
<li><a href="#Counsel%20Ripgrep">3.1. Counsel Ripgrep</a></li>
<li><a href="#EmacsClient%20for%20MacOS">3.2. EmacsClient for MacOS</a></li>
<li><a href="#Change%20face%20for%20some%20mode%20only">3.3. Change face for some mode only</a></li>
</ul>
</li>
<li><a href="#Get%20image%20height%2Fwidth%20in%20emacs">4. Get image height/width in emacs</a></li>
<li><a href="#Bad%20Emacs%20Defaults">5. Bad Emacs Defaults</a>
<ul>
<li><a href="#backup-by-copying">5.1. backup-by-copying</a></li>
<li><a href="#sentence-end-double-space">5.2. sentence-end-double-space</a></li>
</ul>
</li>
</ul>
</div>
</div>
<ul class="org-ul">
<li><a href="org_mode.html#ID-83feb6b0-a900-46a4-9e3d-2ccb8d00e8d6">Org Mode</a></li>
</ul>
<div id="outline-container-How%20to%20learn" class="outline-2">
<h2 id="How%20to%20learn"><span class="section-number-2">1.</span> How to learn</h2>
<div class="outline-text-2" id="text-1">
<p>
<p style="text-align:center; width:100%"><iframe width="560" height="315" src="https://www.youtube.com/embed/48JlgiBpw_I" title="nil" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe></p>
</p>

<ul class="org-ul">
<li><a href="https://www.youtube.com/watch?v=48JlgiBpw_I&t=25s">00:00:25</a> by System Crafters</li>
<li><a href="https://www.youtube.com/watch?v=48JlgiBpw_I&t=95s">00:01:35</a> How to install</li>
</ul>
</div>
</div>
<div id="outline-container-Notes" class="outline-2">
<h2 id="Notes"><span class="section-number-2">2.</span> Notes</h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li><b>leuven</b>  theme is nice for light mode (especially org-mode)</li>
<li><p>
<a href="private/university_search.html#ID-ADC0851C-B7E1-48D3-A3C9-8C8AF91E07AC">Search for University</a>
</p>


<div id="figure-1" class="figure">
<p><img src="data/emacs/a_theme-20240911100326.png" alt="a_theme-20240911100326.png" />
</p>
<p><span class="figure-number">Figure 1: </span>A Theme</p>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-Tips" class="outline-2">
<h2 id="Tips"><span class="section-number-2">3.</span> Tips</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-Counsel%20Ripgrep" class="outline-3">
<h3 id="Counsel%20Ripgrep"><span class="section-number-3">3.1.</span> Counsel Ripgrep</h3>
<div class="outline-text-3" id="text-3-1">
<p>
<a href="https://emacsbliss.com/">https://emacsbliss.com/</a>
</p>
<blockquote>
<p>
counsel-rg by default looks for a directory with .git and starts a search from there.
</p>

<p>
To limit the scope to current directory and its sub directories, not
where .git is, use prefix argument before running counsel-rg then
select which directory you want to run rg on.
</p>
</blockquote>
</div>
</div>
<div id="outline-container-EmacsClient%20for%20MacOS" class="outline-3">
<h3 id="EmacsClient%20for%20MacOS"><span class="section-number-3">3.2.</span> EmacsClient for MacOS</h3>
<div class="outline-text-3" id="text-3-2">
<p>
Create an application applescript with the following code:
</p>

<p>
Based on:
<a href="https://github.com/ferlatte/emacs-daemon-osx/blob/master/emacs-client.applescript">https://github.com/ferlatte/emacs-daemon-osx/blob/master/emacs-client.applescript</a>
</p>

<p>
Changes
</p>
<ul class="org-ul">
<li>Pass first parameter to emacsclient. So that we can open file from finder.</li>
<li>" &#x2013;eval '(select-frame-set-input-focus (selected-frame))'" to bring focus to new frame</li>
<li>" &gt; /dev/null 2&gt;&amp;1 &amp;" : Applescript waits for emacsclient to end for the script to complete. This redirects stdout and stderr to /dev/null and run the process in background so that the script doesn't need to wait</li>
</ul>

<details open><summary><span class='org-details-collapse'>&lt; Collapse code block</span><span class='org-details-expand'>&gt; Expand code block</span></summary>
<div class="org-src-container">
<pre class="src src-applescript">-- Adapted From https://github.com/brianm/emacs-client-mac
--
on run argv
        set arg to item 1 of argv
        try
                set filePath to POSIX path of arg
        on error
                set filePath to ""
        end try

        tell application "Terminal"
                try
                        -- we look for &lt;= 2 because Emacs --daemon seems to always
                        -- have an entry in visibile-frame-list even if there isn't
                        set frameVisible to do shell script "/Applications/Emacs.app/Contents/MacOS/bin/emacsclient -e '(&lt;= 2 (length (visible-frame-list)))'"
                        if frameVisible is not "t" then
                                -- there is a not a visible frame, launch one
                                do shell script "/Applications/Emacs.app/Contents/MacOS/bin/emacsclient -c -n " &amp; filePath &amp; " --eval '(select-frame-set-input-focus (selected-frame))'" &amp; " &gt; /dev/null 2&gt;&amp;1 &amp;"
                        else
                                do shell script "/Applications/Emacs.app/Contents/MacOS/bin/emacsclient -n " &amp; filePath &amp; " --eval '(select-frame-set-input-focus (selected-frame))'" &amp; " &gt; /dev/null 2&gt;&amp;1 &amp;"
                        end if
                on error
                        -- FIXME: instead, open an alertbox, since we intend to run Emacs
                        -- from launchd.
                        -- daemon is not running, start the daemon and open a frame
                        do shell script "/Applications/Emacs.app/Contents/MacOS/Emacs --daemon"
                        do shell script "/Applications/Emacs.app/Contents/MacOS/bin/emacsclient -c -n " &amp; filePath &amp; " --eval '(select-frame-set-input-focus (selected-frame))'" &amp; " &gt; /dev/null 2&gt;&amp;1 &amp;"

                end try
        end tell

end run
</pre>
</div></details>
</div>
</div>
<div id="outline-container-Change%20face%20for%20some%20mode%20only" class="outline-3">
<h3 id="Change%20face%20for%20some%20mode%20only"><span class="section-number-3">3.3.</span> Change face for some mode only</h3>
<div class="outline-text-3" id="text-3-3">
<p>
See example at org-config.el
</p>
<details open><summary><span class='org-details-collapse'>&lt; Collapse code block</span><span class='org-details-expand'>&gt; Expand code block</span></summary>
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">a more noticable bold face for org mode in dark themes (spacemacs-dark)</span>
(face-remap-add-relative 'bold '(<span class="org-builtin">:weight</span> bold <span class="org-builtin">:foreground</span> <span class="org-string">"green3"</span>))
</pre>
</div></details>
</div>
</div>
</div>
<div id="outline-container-Get%20image%20height%2Fwidth%20in%20emacs" class="outline-2">
<h2 id="Get%20image%20height%2Fwidth%20in%20emacs"><span class="section-number-2">4.</span> Get image height/width in emacs</h2>
<div class="outline-text-2" id="text-4">
<p>
CREATED: <span class="timestamp-wrapper"><span class="timestamp">[2023-09-19 Tue 21:38]</span></span>
</p>


<p>
Open the dir of the image in dired. Keep the point on the file and
then run shell command <code>M-! exiftool</code> &lt;file-name&gt;
</p>
</div>
</div>
<div id="outline-container-Bad%20Emacs%20Defaults" class="outline-2">
<h2 id="Bad%20Emacs%20Defaults"><span class="section-number-2">5.</span> Bad Emacs Defaults</h2>
<div class="outline-text-2" id="text-5">
<ul class="org-ul">
<li><a href="https://news.ycombinator.com/item?id=37843908">https://news.ycombinator.com/item?id=37843908</a></li>
<li><a href="https://idiomdrottning.org/bad-emacs-defaults">https://idiomdrottning.org/bad-emacs-defaults</a></li>
</ul>

<details open><summary><span class='org-details-collapse'>&lt; Collapse code block</span><span class='org-details-expand'>&gt; Expand code block</span></summary>
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setf</span> sentence-end-double-space nil
      require-final-newline t)
(add-hook programming-mode-hook (<span class="org-keyword">lambda</span> ()
                                  (<span class="org-keyword">setf</span> show-trailing-whitespace t)))
</pre>
</div></details>
</div>
<div id="outline-container-backup-by-copying" class="outline-3">
<h3 id="backup-by-copying"><span class="section-number-3">5.1.</span> backup-by-copying</h3>
<div class="outline-text-3" id="text-5-1">
<p>
<a href="https://news.ycombinator.com/item?id=37845995">https://news.ycombinator.com/item?id=37845995</a>
</p>

<p>
Moving files to backup instead of copying is better. First, the file
modification dates remain meaningful. When a backup is made, the
backup file has a last modified date of when it was last changed and
the new copy has the current time. It is also reversible if creating
the new file fails for some reason. The backup file can moved back to
the original location with a single file system operation and retains
the right modification date.
</p>

<p>
It's also more robust in case of errors. Emacs can write new data to a
temp file, confirm it succeeded then rename working to backup and new
to working. You never have a situation where the working or backup
file ends up half written.
</p>
</div>
</div>
<div id="outline-container-sentence-end-double-space" class="outline-3">
<h3 id="sentence-end-double-space"><span class="section-number-3">5.2.</span> sentence-end-double-space</h3>
<div class="outline-text-3" id="text-5-2">
<p>
This allows the editor to reliably differentiate between those periods (.) that are used in abbreviations and those that end sentences.
</p>

<hr />
<h3>Backlinks</h3>

<ul class="org-ul">
<li><a href="paredit.html#ID-83e56d5d-c48b-4e2d-9834-4dafd315334a">Paredit</a></li>
<li><a href="lifestyle_software.html#ID-5859FF4B-3320-4A36-B330-D81526275944">Lifestyle Software</a></li>
<li><a href="tools.html#ID-6dc5435d-8a2f-49f2-8365-7ea00a855145">Tools</a></li>
<li><a href="notes.html#ID-15b81538-4cf6-41a7-b54e-e62e8f1c2dbf">Org Export settings and #+Option 's</a></li>
<li><a href="org_mode.html#ID-83feb6b0-a900-46a4-9e3d-2ccb8d00e8d6">Org Mode</a></li>
</ul>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<hr/>You can send your feedback, queries <a href="mailto:bpanthi977@gmail.com?subject=Feedback: Emacs">here</a><span id="visits"></span><span id="claps"></span><div id="claps-message"></div>
</div>
</body>
</html>
